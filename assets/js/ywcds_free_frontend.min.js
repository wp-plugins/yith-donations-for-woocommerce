jQuery(document).ready(function(a){var t=function(t,o,c){var d={add_donation_to_cart:o,ywcds_amount:c,action:yith_wcds_frontend_l10n.actions.add_donation_to_cart},r=t.parents(".ywcds_form_container");a.ajax({type:"GET",url:yith_wcds_frontend_l10n.ajax_url,data:d,dataType:"json",beforeSend:function(){r.find(".ajax-loading").css("visibility","visible")},complete:function(){r.find(".ajax-loading").css("visibility","hidden")},success:function(a){var o=window.location.toString();o=o.replace("add-to-cart","added-to-cart");var c=r.find(".ywcds_message");if(a.fragments){n(t,o,a),c.removeClass("woocommerce-error"),"undefined"!=typeof ywcds_params&&"undefined"!=typeof ywcds_params.donation_in_cart&&(ywcds_params.donation_in_cart=1);wc_add_to_cart_params.is_cart||0!==t.parent().find(".added_to_cart").size()||t.after(' <a href="'+wc_add_to_cart_params.cart_url+'" class="added_to_cart wc-forward" title="'+wc_add_to_cart_params.i18n_view_cart+'">'+wc_add_to_cart_params.i18n_view_cart+"</a>"),c.html(yith_wcds_frontend_l10n.thanks_message)}else{var d=(a.result,a.message);r.find(".ywcds_amount").css("border","1px solid red"),c.addClass("woocommerce-error"),c.html(d)}c.show()}})},n=function(t,n,o){fragments=o.fragments,cart_hash=o.cart_has,fragments&&a.each(fragments,function(t){a(t).addClass("updating")}),a(".shop_table.cart, .updating, .cart_totals").fadeTo("400","0.6").block({message:null,overlayCSS:{opacity:.6}}),t.addClass("added"),fragments&&a.each(fragments,function(t,n){a(t).replaceWith(n)}),a(".widget_shopping_cart, .updating").stop(!0).css("opacity","1").unblock(),a(".shop_table.cart").load(n+" .shop_table.cart:eq(0) > *",function(){a(".shop_table.cart").stop(!0).css("opacity","1").unblock(),a("body").trigger("cart_page_refreshed")}),a(".cart_totals").load(n+" .cart_totals:eq(0) > *",function(){a(".cart_totals").stop(!0).css("opacity","1").unblock()})};a(document).on("click",".ywcds_submit",function(n){var o=a(this),c=o.parents("#ywcds_add_donation_form"),d=c.find(".ywcds_amount").val(),r=c.find(".ywcds_product_id").val();return n.preventDefault(),t(o,r,d),!1})});